# Hadar Sharon - The Battle of the Neighborhoods

### The Business Problem:

I am looking to open a high-end Asian restaurant in Tel-Aviv, Israel. I am unsure as of where I should open it, as there are a couple of specific issues that bother me:
1. I want my restaurant to stand out from the crowd, meaning that if there are many Asian restaurants in my area, it would negatively affect my business traffic and cause customer loss with fierce competition.
2. On the other hand, if my restaurant is located in a quiet and/or neglected area, or rather a very noisy and industrial area, it would not attract any customers either.
3. Moreover - Since my restaurant is going to be a high-end restaurant, I need it to be close to an affluent neighbourhood(s) so as to attract affluent customers.
4. Accessibility is still important - I'd still like my restaurant to be relatively accessible, thus not located at the edge of the city or far from main roads.

### The Data:

I am going to need data based on the city of Tel-Aviv, Israel, as well as its neighbourhoods.

Specifically, I need to be able to map out all Asian restaurants in Tel-Aviv, and be able to obtain insights about the residents of each neighbourhood - their income, their age, and lifestyle in general (as possible).

I am planning on using the Foursquare API to handle all the Geolocation data related to restaurants, and perhaps bound & classify each neighbourhood of the city using it (+ Visualization).

I am also looking to obtain a dataset with data about the residents of Tel-Aviv, whether from a local API or I will scrape entire datasets from the Internet if needed.

### Methodology

First, we are going to discuss the libraries and modules used in this report.
As I chose to use Python as my main programming language for this task, I have relied on its popular Data Analysis, namely:
- Numpy, Pandas for Exploratory Data Analysis
- Matplotlib, Folium for Data Visualization
- I also used the Foursquare API for Geolocation data

###### Let's import these libraries: 


```python
import numpy as np
import pandas as pd
import matplotlib as mpl
import folium
# Foursquare credentials
FS_CLIENT_ID = "HWMWGYDHIK1T1RY5AGIRVO5DSBTNK4BYZJZY12DBXIHZEVHN"
FS_CLIENT_SECRET = "KVNRQT1IYIQK332KWN2VH1BSUCRHJQMHBFRFH200AIR2CBHM"
FS_VERSION = "20200306"
```

###### And create a folium map object focused on Tel-Aviv:


```python
from IPython.display import display
telaviv_lat = 32.0853
telaviv_lon = 34.7818
telaviv_map = folium.Map(location=[telaviv_lat, telaviv_lon], zoom_start=13)
display(telaviv_map)
```


<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgCiAgICAgICAgPHNjcmlwdD4KICAgICAgICAgICAgTF9OT19UT1VDSCA9IGZhbHNlOwogICAgICAgICAgICBMX0RJU0FCTEVfM0QgPSBmYWxzZTsKICAgICAgICA8L3NjcmlwdD4KICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbGVhZmxldEAxLjUuMS9kaXN0L2xlYWZsZXQuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0xLjEyLjQubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9qcy9ib290c3RyYXAubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5qcyI+PC9zY3JpcHQ+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbGVhZmxldEAxLjUuMS9kaXN0L2xlYWZsZXQuY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMi4wL2Nzcy9ib290c3RyYXAubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLXRoZW1lLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9mb250LWF3ZXNvbWUvNC42LjMvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL0xlYWZsZXQuYXdlc29tZS1tYXJrZXJzLzIuMC4yL2xlYWZsZXQuYXdlc29tZS1tYXJrZXJzLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL3Jhd2Nkbi5naXRoYWNrLmNvbS9weXRob24tdmlzdWFsaXphdGlvbi9mb2xpdW0vbWFzdGVyL2ZvbGl1bS90ZW1wbGF0ZXMvbGVhZmxldC5hd2Vzb21lLnJvdGF0ZS5jc3MiLz4KICAgIDxzdHlsZT5odG1sLCBib2R5IHt3aWR0aDogMTAwJTtoZWlnaHQ6IDEwMCU7bWFyZ2luOiAwO3BhZGRpbmc6IDA7fTwvc3R5bGU+CiAgICA8c3R5bGU+I21hcCB7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7cmlnaHQ6MDtsZWZ0OjA7fTwvc3R5bGU+CiAgICAKICAgICAgICAgICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwKICAgICAgICAgICAgICAgIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIgLz4KICAgICAgICAgICAgPHN0eWxlPgogICAgICAgICAgICAgICAgI21hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNiB7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAuMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICAgICAgbGVmdDogMC4wJTsKICAgICAgICAgICAgICAgICAgICB0b3A6IDAuMCU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIDwvc3R5bGU+CiAgICAgICAgCjwvaGVhZD4KPGJvZHk+ICAgIAogICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvbGl1bS1tYXAiIGlkPSJtYXBfNjFkMTM3YTk5NzM4NDUzMWE1YWZmMGFhMjFkMzM5MzYiID48L2Rpdj4KICAgICAgICAKPC9ib2R5Pgo8c2NyaXB0PiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2ID0gTC5tYXAoCiAgICAgICAgICAgICAgICAibWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2IiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IFszMi4wODUzLCAzNC43ODE4XSwKICAgICAgICAgICAgICAgICAgICBjcnM6IEwuQ1JTLkVQU0czODU3LAogICAgICAgICAgICAgICAgICAgIHpvb206IDEzLAogICAgICAgICAgICAgICAgICAgIHpvb21Db250cm9sOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHByZWZlckNhbnZhczogZmFsc2UsCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CgogICAgICAgICAgICAKCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfYTI1MGFmODczZjEwNDRkZTgzODAzYjU3NjQ1ZGI0OWYgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICJodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZyIsCiAgICAgICAgICAgICAgICB7ImF0dHJpYnV0aW9uIjogIkRhdGEgYnkgXHUwMDI2Y29weTsgXHUwMDNjYSBocmVmPVwiaHR0cDovL29wZW5zdHJlZXRtYXAub3JnXCJcdTAwM2VPcGVuU3RyZWV0TWFwXHUwMDNjL2FcdTAwM2UsIHVuZGVyIFx1MDAzY2EgaHJlZj1cImh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCJcdTAwM2VPRGJMXHUwMDNjL2FcdTAwM2UuIiwgImRldGVjdFJldGluYSI6IGZhbHNlLCAibWF4TmF0aXZlWm9vbSI6IDE4LCAibWF4Wm9vbSI6IDE4LCAibWluWm9vbSI6IDAsICJub1dyYXAiOiBmYWxzZSwgIm9wYWNpdHkiOiAxLCAic3ViZG9tYWlucyI6ICJhYmMiLCAidG1zIjogZmFsc2V9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKPC9zY3JpcHQ+ onload="this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>


#### Now, let's make some requests to Foursquare in order to map all Asian restaurants in Tel Aviv

First, we're going to get all Foursquare categories, so we could filter our results to match only Asian restaurants
(Note: this includes many subcategories i.e. Japanese, Chinese, Dim-Sum places etc., so it is quite tedious!)


```python
import json, requests

# Find the relevant Foursquare category for Asian restaurants so we could query by it later
fs_categories_url = "https://api.foursquare.com/v2/venues/categories"
fs_categories_params = dict(
    client_id=f'{FS_CLIENT_ID}',
    client_secret=f'{FS_CLIENT_SECRET}',
    v=f'{FS_VERSION}'
)

resp = requests.get(url=fs_categories_url, params=fs_categories_params)
data = json.loads(resp.text)
```

###### Out of all categories found, we want to keep a list of only the Asian categories and the aforementioned subtypes
(This is done here with pandas dataframes and a recursive function that adds all relevant category ids)


```python
categories_to_search_by = []

def add_category_id(entry, result_list):
    result_list.append(entry['id'])
    if 'categories' in entry:
        for sub_entry in entry['categories']:
            add_category_id(sub_entry, result_list)

categories_df = pd.DataFrame(data['response']['categories'])
food_categories_df = categories_df[categories_df['name'].isin(["Food", "Restaurant", "Restaurants"])]
asian_categories = list(filter(lambda res: res['shortName'] in 'Asian', food_categories_df['categories'].values[0]))

for category in asian_categories:
    add_category_id(category, categories_to_search_by)
```

#### Great! Now we have all the category IDs we want to filter by
On the one hand we filtered out non-Asian restaurants, but on the other hand we have all the Asian subcategories so we can be quite sure that we don't miss that Thai place around the corner! ;)

###### Now it's time to search for the actual restaurants, also using the Foursquare API:


```python
fs_search_url = "https://api.foursquare.com/v2/venues/search"

fs_search_params = dict(
  client_id=f'{FS_CLIENT_ID}',
  client_secret=f'{FS_CLIENT_SECRET}',
  v=f'{FS_VERSION}',
  ll=f'{telaviv_lat}, {telaviv_lon}',
  categoryId=f"{','.join(categories_to_search_by)}",
  radius=10000  # 10 kilometers radius from the heart of Tel-Aviv
)
resp = requests.get(url=fs_search_url, params=fs_search_params)
found_restaurants_data = json.loads(resp.text)
```

###### Let's put all found restaurants into a nice pandas dataframe:


```python
found_restaurants_df = pd.DataFrame(found_restaurants_data['response']['venues'])
found_restaurants_df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>location</th>
      <th>categories</th>
      <th>referralId</th>
      <th>hasPerk</th>
      <th>venuePage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>594800de4382ab30b243a4e6</td>
      <td>Cà Phê Hanoi</td>
      <td>{'lat': 32.07968605952711, 'lng': 34.779864215...</td>
      <td>[{'id': '4bf58dd8d48988d14a941735', 'name': 'V...</td>
      <td>v-1583500555</td>
      <td>False</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>1</td>
      <td>4cc965dcbfe1f04dc7870d75</td>
      <td>אצה סושי</td>
      <td>{'lat': 32.08323412282996, 'lng': 34.803849552...</td>
      <td>[{'id': '4bf58dd8d48988d1d2941735', 'name': 'S...</td>
      <td>v-1583500555</td>
      <td>False</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>2</td>
      <td>4de14f1e8877aab7fe612d26</td>
      <td>Brauner</td>
      <td>{'lat': 32.079908839086016, 'lng': 34.81991739...</td>
      <td>[{'id': '4bf58dd8d48988d149941735', 'name': 'T...</td>
      <td>v-1583500555</td>
      <td>False</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>3</td>
      <td>56acf807498e9e5b3c2c475a</td>
      <td>Nithan Thai</td>
      <td>{'address': 'HaArbaa 21', 'lat': 32.0703786060...</td>
      <td>[{'id': '4bf58dd8d48988d149941735', 'name': 'T...</td>
      <td>v-1583500555</td>
      <td>False</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>4</td>
      <td>5c41b198f870fd002c1b1deb</td>
      <td>Ning</td>
      <td>{'lat': 32.067782, 'lng': 34.767961, 'labeledL...</td>
      <td>[{'id': '4bf58dd8d48988d142941735', 'name': 'A...</td>
      <td>v-1583500555</td>
      <td>False</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



### Results

#### Clustering the restaurants by location:

As stated in the business problem at the start of my report, location is key.
For simplicity's sake, and since there are not that many Asian restaurants in Tel-Aviv, we are going to divide the city to 5 main boroughs (there may be some overlap, naturally, as this is a gross estimation):

1. Northern Tel Aviv (This uptown part of Tel-Aviv is very affluent, quiet, and is comprised of mostly upscale residential neighborhoods)
2. Central Tel Aviv (The bustling, chic part of the city where most things happen - most restaurants will probably be here)
3. Southern Tel Aviv (This part of Tel-Aviv is industrial and quite impoverished; it is very heterogenous due to many poor foreign immigrants having settled there, and is widely considered to be the "bad part of town")
4. Eastern Tel Aviv (Very Urban, middle-class, with some residential areas as well as commercial areas, mostly "run-of-the-mill" neighbourhoods, especially compared to Northern and Central Tel-Aviv)
5. Jaffa (Some could argue it is a distinct town onto itself, but as it is officialy part of Tel-Aviv, I included it too.)

###### It would be interesting to see how the restaurants are clustered by borough, and we will achieve that by stating some boundaries as constant coordinates, then adding circle markers to our Tel-Aviv map, to show the different boroughs' boundaries


```python
TEL_AVIV_BOROUGHS = {
    'Northern Tel Aviv': {
        'center': (32.115974, 34.810723),
        'radius': 160,
        'color': 'blue'
    },
    'Central Tel Aviv': {
        'center': (32.081541, 34.781112),
        'radius': 150,
        'color': 'orange'
    },
    'Southern Tel Aviv': {
        'center': (32.055588, 34.777612),
        'radius': 115,
        'color': 'red'
    },
    'Eastern Tel Aviv': {
        'center': (32.055515, 34.804677),
        'radius': 100,
        'color': 'green'
    },
    'Jaffa': {
        'center': (32.051335, 34.755558),
        'radius': 110,
        'color': 'purple'
    }
}

for k,v in TEL_AVIV_BOROUGHS.items():
    folium.CircleMarker(
        location=v['center'],
        radius=v['radius'],
        popup=k,
        color=v['color'],
        fill=True,
        fill_color=v['color']
    ).add_to(telaviv_map)
    
display(telaviv_map)
```


<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgCiAgICAgICAgPHNjcmlwdD4KICAgICAgICAgICAgTF9OT19UT1VDSCA9IGZhbHNlOwogICAgICAgICAgICBMX0RJU0FCTEVfM0QgPSBmYWxzZTsKICAgICAgICA8L3NjcmlwdD4KICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbGVhZmxldEAxLjUuMS9kaXN0L2xlYWZsZXQuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0xLjEyLjQubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9qcy9ib290c3RyYXAubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5qcyI+PC9zY3JpcHQ+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbGVhZmxldEAxLjUuMS9kaXN0L2xlYWZsZXQuY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMi4wL2Nzcy9ib290c3RyYXAubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLXRoZW1lLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9mb250LWF3ZXNvbWUvNC42LjMvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL0xlYWZsZXQuYXdlc29tZS1tYXJrZXJzLzIuMC4yL2xlYWZsZXQuYXdlc29tZS1tYXJrZXJzLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL3Jhd2Nkbi5naXRoYWNrLmNvbS9weXRob24tdmlzdWFsaXphdGlvbi9mb2xpdW0vbWFzdGVyL2ZvbGl1bS90ZW1wbGF0ZXMvbGVhZmxldC5hd2Vzb21lLnJvdGF0ZS5jc3MiLz4KICAgIDxzdHlsZT5odG1sLCBib2R5IHt3aWR0aDogMTAwJTtoZWlnaHQ6IDEwMCU7bWFyZ2luOiAwO3BhZGRpbmc6IDA7fTwvc3R5bGU+CiAgICA8c3R5bGU+I21hcCB7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7cmlnaHQ6MDtsZWZ0OjA7fTwvc3R5bGU+CiAgICAKICAgICAgICAgICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwKICAgICAgICAgICAgICAgIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIgLz4KICAgICAgICAgICAgPHN0eWxlPgogICAgICAgICAgICAgICAgI21hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNiB7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAuMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICAgICAgbGVmdDogMC4wJTsKICAgICAgICAgICAgICAgICAgICB0b3A6IDAuMCU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIDwvc3R5bGU+CiAgICAgICAgCjwvaGVhZD4KPGJvZHk+ICAgIAogICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvbGl1bS1tYXAiIGlkPSJtYXBfNjFkMTM3YTk5NzM4NDUzMWE1YWZmMGFhMjFkMzM5MzYiID48L2Rpdj4KICAgICAgICAKPC9ib2R5Pgo8c2NyaXB0PiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2ID0gTC5tYXAoCiAgICAgICAgICAgICAgICAibWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2IiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IFszMi4wODUzLCAzNC43ODE4XSwKICAgICAgICAgICAgICAgICAgICBjcnM6IEwuQ1JTLkVQU0czODU3LAogICAgICAgICAgICAgICAgICAgIHpvb206IDEzLAogICAgICAgICAgICAgICAgICAgIHpvb21Db250cm9sOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHByZWZlckNhbnZhczogZmFsc2UsCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CgogICAgICAgICAgICAKCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfYTI1MGFmODczZjEwNDRkZTgzODAzYjU3NjQ1ZGI0OWYgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICJodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZyIsCiAgICAgICAgICAgICAgICB7ImF0dHJpYnV0aW9uIjogIkRhdGEgYnkgXHUwMDI2Y29weTsgXHUwMDNjYSBocmVmPVwiaHR0cDovL29wZW5zdHJlZXRtYXAub3JnXCJcdTAwM2VPcGVuU3RyZWV0TWFwXHUwMDNjL2FcdTAwM2UsIHVuZGVyIFx1MDAzY2EgaHJlZj1cImh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCJcdTAwM2VPRGJMXHUwMDNjL2FcdTAwM2UuIiwgImRldGVjdFJldGluYSI6IGZhbHNlLCAibWF4TmF0aXZlWm9vbSI6IDE4LCAibWF4Wm9vbSI6IDE4LCAibWluWm9vbSI6IDAsICJub1dyYXAiOiBmYWxzZSwgIm9wYWNpdHkiOiAxLCAic3ViZG9tYWlucyI6ICJhYmMiLCAidG1zIjogZmFsc2V9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hNmYyODAwY2JlNDA0ZjM1YmYyZTA5NjdlYWNjMDE3OSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjExNTk3NCwgMzQuODEwNzIzXSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogImJsdWUiLCAiZmlsbE9wYWNpdHkiOiAwLjIsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDE2MCwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNjJkODk4YTExYjM2NDIwOGE4Nzc1NjM2NDMwYjc2Y2EgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2IzZGYwOWUzZmE1MTQ5MDI4YjA2ZjU0M2E1OTQ5ZTZhID0gJChgPGRpdiBpZD0iaHRtbF9iM2RmMDllM2ZhNTE0OTAyOGIwNmY1NDNhNTk0OWU2YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGhlcm4gVGVsIEF2aXY8L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjJkODk4YTExYjM2NDIwOGE4Nzc1NjM2NDMwYjc2Y2Euc2V0Q29udGVudChodG1sX2IzZGYwOWUzZmE1MTQ5MDI4YjA2ZjU0M2E1OTQ5ZTZhKTsKICAgICAgICAKCiAgICAgICAgY2lyY2xlX21hcmtlcl9hNmYyODAwY2JlNDA0ZjM1YmYyZTA5NjdlYWNjMDE3OS5iaW5kUG9wdXAocG9wdXBfNjJkODk4YTExYjM2NDIwOGE4Nzc1NjM2NDMwYjc2Y2EpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzIzNmU0MWY3OWViZjRiYzY4MDQ3YzU0MGFkNjEzYjYyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDgxNTQxLCAzNC43ODExMTJdLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogIm9yYW5nZSIsICJkYXNoQXJyYXkiOiBudWxsLCAiZGFzaE9mZnNldCI6IG51bGwsICJmaWxsIjogdHJ1ZSwgImZpbGxDb2xvciI6ICJvcmFuZ2UiLCAiZmlsbE9wYWNpdHkiOiAwLjIsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDE1MCwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZTYxOGI4NThhMWZhNGRiNzhlZDE5NjEzZGNlODcxZWEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzc1YjQxODAwZWY1YzQ2NDlhYzJmYmNiMGNlYjUxMzE3ID0gJChgPGRpdiBpZD0iaHRtbF83NWI0MTgwMGVmNWM0NjQ5YWMyZmJjYjBjZWI1MTMxNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudHJhbCBUZWwgQXZpdjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lNjE4Yjg1OGExZmE0ZGI3OGVkMTk2MTNkY2U4NzFlYS5zZXRDb250ZW50KGh0bWxfNzViNDE4MDBlZjVjNDY0OWFjMmZiY2IwY2ViNTEzMTcpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzIzNmU0MWY3OWViZjRiYzY4MDQ3YzU0MGFkNjEzYjYyLmJpbmRQb3B1cChwb3B1cF9lNjE4Yjg1OGExZmE0ZGI3OGVkMTk2MTNkY2U4NzFlYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDFlMmI4OWNmNTFjNDZkMTk2NDVkZmZlNTUxMGJhZmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wNTU1ODgsIDM0Ljc3NzYxMl0sCiAgICAgICAgICAgICAgICB7ImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLCAiY29sb3IiOiAicmVkIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogInJlZCIsICJmaWxsT3BhY2l0eSI6IDAuMiwgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogMTE1LCAic3Ryb2tlIjogdHJ1ZSwgIndlaWdodCI6IDN9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kNjQ3MWNiM2JmNTA0MDg3YTFmYTYxYTNkNTNiYWE0NyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZjUyNmQwMGMwNDMwNGNiNGEyZTIzOThlZDRkOGE4ZTkgPSAkKGA8ZGl2IGlkPSJodG1sX2Y1MjZkMDBjMDQzMDRjYjRhMmUyMzk4ZWQ0ZDhhOGU5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Tb3V0aGVybiBUZWwgQXZpdjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kNjQ3MWNiM2JmNTA0MDg3YTFmYTYxYTNkNTNiYWE0Ny5zZXRDb250ZW50KGh0bWxfZjUyNmQwMGMwNDMwNGNiNGEyZTIzOThlZDRkOGE4ZTkpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2QxZTJiODljZjUxYzQ2ZDE5NjQ1ZGZmZTU1MTBiYWZmLmJpbmRQb3B1cChwb3B1cF9kNjQ3MWNiM2JmNTA0MDg3YTFmYTYxYTNkNTNiYWE0NykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTExMmM5YWNkNzgyNDJkZmI1NWE5MWFhMTRjOGNlNDIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wNTU1MTUsIDM0LjgwNDY3N10sCiAgICAgICAgICAgICAgICB7ImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLCAiY29sb3IiOiAiZ3JlZW4iLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiZ3JlZW4iLCAiZmlsbE9wYWNpdHkiOiAwLjIsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDEwMCwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZGM0ZjQ2ZWQyYjFlNDg5Njk5MzRmZDU2MWUwMGM4OTUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FmMTE0ZGNmMDc3MDQ0MmRhZTAyYjQxNDliYmNmNTZkID0gJChgPGRpdiBpZD0iaHRtbF9hZjExNGRjZjA3NzA0NDJkYWUwMmI0MTQ5YmJjZjU2ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdGVybiBUZWwgQXZpdjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kYzRmNDZlZDJiMWU0ODk2OTkzNGZkNTYxZTAwYzg5NS5zZXRDb250ZW50KGh0bWxfYWYxMTRkY2YwNzcwNDQyZGFlMDJiNDE0OWJiY2Y1NmQpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzkxMTJjOWFjZDc4MjQyZGZiNTVhOTFhYTE0YzhjZTQyLmJpbmRQb3B1cChwb3B1cF9kYzRmNDZlZDJiMWU0ODk2OTkzNGZkNTYxZTAwYzg5NSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYWJmYWI4OGI1OTRlNDhkMDk2MmYwM2IxM2Y0NzdmMjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wNTEzMzUsIDM0Ljc1NTU1OF0sCiAgICAgICAgICAgICAgICB7ImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLCAiY29sb3IiOiAicHVycGxlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogInB1cnBsZSIsICJmaWxsT3BhY2l0eSI6IDAuMiwgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogMTEwLCAic3Ryb2tlIjogdHJ1ZSwgIndlaWdodCI6IDN9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iM2NjMWVlMzc3OTk0OWFlODhmOTVmYzZjYjI4MzgwMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZDQ5NDdhZTBjZDlmNDU5MWE1MDY3Y2ExODM2ODdjZjMgPSAkKGA8ZGl2IGlkPSJodG1sX2Q0OTQ3YWUwY2Q5ZjQ1OTFhNTA2N2NhMTgzNjg3Y2YzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5KYWZmYTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iM2NjMWVlMzc3OTk0OWFlODhmOTVmYzZjYjI4MzgwMS5zZXRDb250ZW50KGh0bWxfZDQ5NDdhZTBjZDlmNDU5MWE1MDY3Y2ExODM2ODdjZjMpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2FiZmFiODhiNTk0ZTQ4ZDA5NjJmMDNiMTNmNDc3ZjI4LmJpbmRQb3B1cChwb3B1cF9iM2NjMWVlMzc3OTk0OWFlODhmOTVmYzZjYjI4MzgwMSkKICAgICAgICA7CgogICAgICAgIAogICAgCjwvc2NyaXB0Pg== onload="this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>


###### Nice, now we can show them on the map and see how they are spread:


```python
for i in range(0, len(found_restaurants_df)):
    folium.Marker(
        [found_restaurants_df.iloc[i]['location']['lat'], found_restaurants_df.iloc[i]['location']['lng']],
        popup=found_restaurants_df.iloc[i]['name']
    ).add_to(telaviv_map)

display(telaviv_map)
```


<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgCiAgICAgICAgPHNjcmlwdD4KICAgICAgICAgICAgTF9OT19UT1VDSCA9IGZhbHNlOwogICAgICAgICAgICBMX0RJU0FCTEVfM0QgPSBmYWxzZTsKICAgICAgICA8L3NjcmlwdD4KICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbGVhZmxldEAxLjUuMS9kaXN0L2xlYWZsZXQuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0xLjEyLjQubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9qcy9ib290c3RyYXAubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5qcyI+PC9zY3JpcHQ+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbGVhZmxldEAxLjUuMS9kaXN0L2xlYWZsZXQuY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMi4wL2Nzcy9ib290c3RyYXAubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLXRoZW1lLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9mb250LWF3ZXNvbWUvNC42LjMvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL0xlYWZsZXQuYXdlc29tZS1tYXJrZXJzLzIuMC4yL2xlYWZsZXQuYXdlc29tZS1tYXJrZXJzLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL3Jhd2Nkbi5naXRoYWNrLmNvbS9weXRob24tdmlzdWFsaXphdGlvbi9mb2xpdW0vbWFzdGVyL2ZvbGl1bS90ZW1wbGF0ZXMvbGVhZmxldC5hd2Vzb21lLnJvdGF0ZS5jc3MiLz4KICAgIDxzdHlsZT5odG1sLCBib2R5IHt3aWR0aDogMTAwJTtoZWlnaHQ6IDEwMCU7bWFyZ2luOiAwO3BhZGRpbmc6IDA7fTwvc3R5bGU+CiAgICA8c3R5bGU+I21hcCB7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7cmlnaHQ6MDtsZWZ0OjA7fTwvc3R5bGU+CiAgICAKICAgICAgICAgICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwKICAgICAgICAgICAgICAgIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIgLz4KICAgICAgICAgICAgPHN0eWxlPgogICAgICAgICAgICAgICAgI21hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNiB7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAuMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICAgICAgbGVmdDogMC4wJTsKICAgICAgICAgICAgICAgICAgICB0b3A6IDAuMCU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIDwvc3R5bGU+CiAgICAgICAgCjwvaGVhZD4KPGJvZHk+ICAgIAogICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvbGl1bS1tYXAiIGlkPSJtYXBfNjFkMTM3YTk5NzM4NDUzMWE1YWZmMGFhMjFkMzM5MzYiID48L2Rpdj4KICAgICAgICAKPC9ib2R5Pgo8c2NyaXB0PiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2ID0gTC5tYXAoCiAgICAgICAgICAgICAgICAibWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2IiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IFszMi4wODUzLCAzNC43ODE4XSwKICAgICAgICAgICAgICAgICAgICBjcnM6IEwuQ1JTLkVQU0czODU3LAogICAgICAgICAgICAgICAgICAgIHpvb206IDEzLAogICAgICAgICAgICAgICAgICAgIHpvb21Db250cm9sOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHByZWZlckNhbnZhczogZmFsc2UsCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CgogICAgICAgICAgICAKCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfYTI1MGFmODczZjEwNDRkZTgzODAzYjU3NjQ1ZGI0OWYgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICJodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZyIsCiAgICAgICAgICAgICAgICB7ImF0dHJpYnV0aW9uIjogIkRhdGEgYnkgXHUwMDI2Y29weTsgXHUwMDNjYSBocmVmPVwiaHR0cDovL29wZW5zdHJlZXRtYXAub3JnXCJcdTAwM2VPcGVuU3RyZWV0TWFwXHUwMDNjL2FcdTAwM2UsIHVuZGVyIFx1MDAzY2EgaHJlZj1cImh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCJcdTAwM2VPRGJMXHUwMDNjL2FcdTAwM2UuIiwgImRldGVjdFJldGluYSI6IGZhbHNlLCAibWF4TmF0aXZlWm9vbSI6IDE4LCAibWF4Wm9vbSI6IDE4LCAibWluWm9vbSI6IDAsICJub1dyYXAiOiBmYWxzZSwgIm9wYWNpdHkiOiAxLCAic3ViZG9tYWlucyI6ICJhYmMiLCAidG1zIjogZmFsc2V9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hNmYyODAwY2JlNDA0ZjM1YmYyZTA5NjdlYWNjMDE3OSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjExNTk3NCwgMzQuODEwNzIzXSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogImJsdWUiLCAiZmlsbE9wYWNpdHkiOiAwLjIsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDE2MCwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNjJkODk4YTExYjM2NDIwOGE4Nzc1NjM2NDMwYjc2Y2EgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2IzZGYwOWUzZmE1MTQ5MDI4YjA2ZjU0M2E1OTQ5ZTZhID0gJChgPGRpdiBpZD0iaHRtbF9iM2RmMDllM2ZhNTE0OTAyOGIwNmY1NDNhNTk0OWU2YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGhlcm4gVGVsIEF2aXY8L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjJkODk4YTExYjM2NDIwOGE4Nzc1NjM2NDMwYjc2Y2Euc2V0Q29udGVudChodG1sX2IzZGYwOWUzZmE1MTQ5MDI4YjA2ZjU0M2E1OTQ5ZTZhKTsKICAgICAgICAKCiAgICAgICAgY2lyY2xlX21hcmtlcl9hNmYyODAwY2JlNDA0ZjM1YmYyZTA5NjdlYWNjMDE3OS5iaW5kUG9wdXAocG9wdXBfNjJkODk4YTExYjM2NDIwOGE4Nzc1NjM2NDMwYjc2Y2EpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzIzNmU0MWY3OWViZjRiYzY4MDQ3YzU0MGFkNjEzYjYyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDgxNTQxLCAzNC43ODExMTJdLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogIm9yYW5nZSIsICJkYXNoQXJyYXkiOiBudWxsLCAiZGFzaE9mZnNldCI6IG51bGwsICJmaWxsIjogdHJ1ZSwgImZpbGxDb2xvciI6ICJvcmFuZ2UiLCAiZmlsbE9wYWNpdHkiOiAwLjIsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDE1MCwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZTYxOGI4NThhMWZhNGRiNzhlZDE5NjEzZGNlODcxZWEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzc1YjQxODAwZWY1YzQ2NDlhYzJmYmNiMGNlYjUxMzE3ID0gJChgPGRpdiBpZD0iaHRtbF83NWI0MTgwMGVmNWM0NjQ5YWMyZmJjYjBjZWI1MTMxNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudHJhbCBUZWwgQXZpdjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lNjE4Yjg1OGExZmE0ZGI3OGVkMTk2MTNkY2U4NzFlYS5zZXRDb250ZW50KGh0bWxfNzViNDE4MDBlZjVjNDY0OWFjMmZiY2IwY2ViNTEzMTcpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzIzNmU0MWY3OWViZjRiYzY4MDQ3YzU0MGFkNjEzYjYyLmJpbmRQb3B1cChwb3B1cF9lNjE4Yjg1OGExZmE0ZGI3OGVkMTk2MTNkY2U4NzFlYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDFlMmI4OWNmNTFjNDZkMTk2NDVkZmZlNTUxMGJhZmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wNTU1ODgsIDM0Ljc3NzYxMl0sCiAgICAgICAgICAgICAgICB7ImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLCAiY29sb3IiOiAicmVkIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogInJlZCIsICJmaWxsT3BhY2l0eSI6IDAuMiwgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogMTE1LCAic3Ryb2tlIjogdHJ1ZSwgIndlaWdodCI6IDN9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9kNjQ3MWNiM2JmNTA0MDg3YTFmYTYxYTNkNTNiYWE0NyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZjUyNmQwMGMwNDMwNGNiNGEyZTIzOThlZDRkOGE4ZTkgPSAkKGA8ZGl2IGlkPSJodG1sX2Y1MjZkMDBjMDQzMDRjYjRhMmUyMzk4ZWQ0ZDhhOGU5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Tb3V0aGVybiBUZWwgQXZpdjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kNjQ3MWNiM2JmNTA0MDg3YTFmYTYxYTNkNTNiYWE0Ny5zZXRDb250ZW50KGh0bWxfZjUyNmQwMGMwNDMwNGNiNGEyZTIzOThlZDRkOGE4ZTkpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2QxZTJiODljZjUxYzQ2ZDE5NjQ1ZGZmZTU1MTBiYWZmLmJpbmRQb3B1cChwb3B1cF9kNjQ3MWNiM2JmNTA0MDg3YTFmYTYxYTNkNTNiYWE0NykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTExMmM5YWNkNzgyNDJkZmI1NWE5MWFhMTRjOGNlNDIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wNTU1MTUsIDM0LjgwNDY3N10sCiAgICAgICAgICAgICAgICB7ImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLCAiY29sb3IiOiAiZ3JlZW4iLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiZ3JlZW4iLCAiZmlsbE9wYWNpdHkiOiAwLjIsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDEwMCwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZGM0ZjQ2ZWQyYjFlNDg5Njk5MzRmZDU2MWUwMGM4OTUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FmMTE0ZGNmMDc3MDQ0MmRhZTAyYjQxNDliYmNmNTZkID0gJChgPGRpdiBpZD0iaHRtbF9hZjExNGRjZjA3NzA0NDJkYWUwMmI0MTQ5YmJjZjU2ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdGVybiBUZWwgQXZpdjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kYzRmNDZlZDJiMWU0ODk2OTkzNGZkNTYxZTAwYzg5NS5zZXRDb250ZW50KGh0bWxfYWYxMTRkY2YwNzcwNDQyZGFlMDJiNDE0OWJiY2Y1NmQpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzkxMTJjOWFjZDc4MjQyZGZiNTVhOTFhYTE0YzhjZTQyLmJpbmRQb3B1cChwb3B1cF9kYzRmNDZlZDJiMWU0ODk2OTkzNGZkNTYxZTAwYzg5NSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYWJmYWI4OGI1OTRlNDhkMDk2MmYwM2IxM2Y0NzdmMjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wNTEzMzUsIDM0Ljc1NTU1OF0sCiAgICAgICAgICAgICAgICB7ImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLCAiY29sb3IiOiAicHVycGxlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogInB1cnBsZSIsICJmaWxsT3BhY2l0eSI6IDAuMiwgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogMTEwLCAic3Ryb2tlIjogdHJ1ZSwgIndlaWdodCI6IDN9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9iM2NjMWVlMzc3OTk0OWFlODhmOTVmYzZjYjI4MzgwMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZDQ5NDdhZTBjZDlmNDU5MWE1MDY3Y2ExODM2ODdjZjMgPSAkKGA8ZGl2IGlkPSJodG1sX2Q0OTQ3YWUwY2Q5ZjQ1OTFhNTA2N2NhMTgzNjg3Y2YzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5KYWZmYTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iM2NjMWVlMzc3OTk0OWFlODhmOTVmYzZjYjI4MzgwMS5zZXRDb250ZW50KGh0bWxfZDQ5NDdhZTBjZDlmNDU5MWE1MDY3Y2ExODM2ODdjZjMpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2FiZmFiODhiNTk0ZTQ4ZDA5NjJmMDNiMTNmNDc3ZjI4LmJpbmRQb3B1cChwb3B1cF9iM2NjMWVlMzc3OTk0OWFlODhmOTVmYzZjYjI4MzgwMSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIG1hcmtlcl9lM2YwYjJmZGIwODQ0NWQ3OTU3YjhjMWRkOTUxMzBhNiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjA3OTY4NjA1OTUyNzExLCAzNC43Nzk4NjQyMTU3MTI0OF0sCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfN2JjNmIxNDRjY2E2NDE5YjgwZjFkNzlmYjlmZTlhYjAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzBhZmM1MWEzMzRkMTRjN2JiOGE4MGVmYzllMTAxNTg2ID0gJChgPGRpdiBpZD0iaHRtbF8wYWZjNTFhMzM0ZDE0YzdiYjhhODBlZmM5ZTEwMTU4NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q8OgIFBow6ogSGFub2k8L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfN2JjNmIxNDRjY2E2NDE5YjgwZjFkNzlmYjlmZTlhYjAuc2V0Q29udGVudChodG1sXzBhZmM1MWEzMzRkMTRjN2JiOGE4MGVmYzllMTAxNTg2KTsKICAgICAgICAKCiAgICAgICAgbWFya2VyX2UzZjBiMmZkYjA4NDQ1ZDc5NTdiOGMxZGQ5NTEzMGE2LmJpbmRQb3B1cChwb3B1cF83YmM2YjE0NGNjYTY0MTliODBmMWQ3OWZiOWZlOWFiMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIG1hcmtlcl82ZDM5Y2ZhYjI5YjI0OTQ3OTU3ZjA3NzQ0Y2MyMmQxMyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjA4MzIzNDEyMjgyOTk2LCAzNC44MDM4NDk1NTI3Mjk3MV0sCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfY2IyYmM1MzdmOGM5NGEyMzkwODY2OTg1NGNkNGZjZTQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzAzMmU5ZTFmOWRmMjQwOGFhNGUwNzc4ZjE5MDc2MjU5ID0gJChgPGRpdiBpZD0iaHRtbF8wMzJlOWUxZjlkZjI0MDhhYTRlMDc3OGYxOTA3NjI1OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+15DXpteUINeh15XXqdeZPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2NiMmJjNTM3ZjhjOTRhMjM5MDg2Njk4NTRjZDRmY2U0LnNldENvbnRlbnQoaHRtbF8wMzJlOWUxZjlkZjI0MDhhYTRlMDc3OGYxOTA3NjI1OSk7CiAgICAgICAgCgogICAgICAgIG1hcmtlcl82ZDM5Y2ZhYjI5YjI0OTQ3OTU3ZjA3NzQ0Y2MyMmQxMy5iaW5kUG9wdXAocG9wdXBfY2IyYmM1MzdmOGM5NGEyMzkwODY2OTg1NGNkNGZjZTQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBtYXJrZXJfMjVmMGIyNGZjNjBjNGUzYTlhYjYwNjRmYTg0NmEwZGIgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wNzk5MDg4MzkwODYwMTYsIDM0LjgxOTkxNzM5NTgyMDVdLAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNjFkMTM3YTk5NzM4NDUzMWE1YWZmMGFhMjFkMzM5MzYpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzdkMTZlYjFiZmNkZTRmZTRhZDMxNzE5YWU0NjVjOGM3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80N2FmNjUyNDE2YjI0N2M3YTZiMDVjMDc5YzE5YzY4NiA9ICQoYDxkaXYgaWQ9Imh0bWxfNDdhZjY1MjQxNmIyNDdjN2E2YjA1YzA3OWMxOWM2ODYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJyYXVuZXI8L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfN2QxNmViMWJmY2RlNGZlNGFkMzE3MTlhZTQ2NWM4Yzcuc2V0Q29udGVudChodG1sXzQ3YWY2NTI0MTZiMjQ3YzdhNmIwNWMwNzljMTljNjg2KTsKICAgICAgICAKCiAgICAgICAgbWFya2VyXzI1ZjBiMjRmYzYwYzRlM2E5YWI2MDY0ZmE4NDZhMGRiLmJpbmRQb3B1cChwb3B1cF83ZDE2ZWIxYmZjZGU0ZmU0YWQzMTcxOWFlNDY1YzhjNykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIG1hcmtlcl85NWQwNjAyNTg5OTk0YzBhYWY3MDMzN2NjYWI5ZDA2OSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjA3MDM3ODYwNjAzOTMyLCAzNC43ODczMDE0MTM1ODg0N10sCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYmE3NWZlOTg0ZTAwNGVmZDg4MDMxNTc0OGQ3MDBjM2EgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQ3NGNmYTAyNTk3YTQ0NWFhZDczZWQ4ZmMxZjc5NWI2ID0gJChgPGRpdiBpZD0iaHRtbF80NzRjZmEwMjU5N2E0NDVhYWQ3M2VkOGZjMWY3OTViNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tml0aGFuIFRoYWk8L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfYmE3NWZlOTg0ZTAwNGVmZDg4MDMxNTc0OGQ3MDBjM2Euc2V0Q29udGVudChodG1sXzQ3NGNmYTAyNTk3YTQ0NWFhZDczZWQ4ZmMxZjc5NWI2KTsKICAgICAgICAKCiAgICAgICAgbWFya2VyXzk1ZDA2MDI1ODk5OTRjMGFhZjcwMzM3Y2NhYjlkMDY5LmJpbmRQb3B1cChwb3B1cF9iYTc1ZmU5ODRlMDA0ZWZkODgwMzE1NzQ4ZDcwMGMzYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIG1hcmtlcl85MjA0NmVhZTI4Yjk0YjExOWRlZTNhMGZkMzk3ZGY0YiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjA2Nzc4MiwgMzQuNzY3OTYxXSwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9hNjBjZDFlYmE1MzM0ODliYjY2NzY5OTJkMGUzZThjZSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMGM5ZjU2NzgyYTE0NDFmNmJiNmZlYzA2MmJlNTgzZWYgPSAkKGA8ZGl2IGlkPSJodG1sXzBjOWY1Njc4MmExNDQxZjZiYjZmZWMwNjJiZTU4M2VmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5OaW5nPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2E2MGNkMWViYTUzMzQ4OWJiNjY3Njk5MmQwZTNlOGNlLnNldENvbnRlbnQoaHRtbF8wYzlmNTY3ODJhMTQ0MWY2YmI2ZmVjMDYyYmU1ODNlZik7CiAgICAgICAgCgogICAgICAgIG1hcmtlcl85MjA0NmVhZTI4Yjk0YjExOWRlZTNhMGZkMzk3ZGY0Yi5iaW5kUG9wdXAocG9wdXBfYTYwY2QxZWJhNTMzNDg5YmI2Njc2OTkyZDBlM2U4Y2UpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBtYXJrZXJfYjk0ZTBlOWQxOTQ4NGZiY2EyMDY5N2MyMmIwNzk1YTUgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wODc2Nzc4MTEzNDk1OCwgMzQuODAzOTQ5MjI1MzQ4MThdLAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNjFkMTM3YTk5NzM4NDUzMWE1YWZmMGFhMjFkMzM5MzYpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzQ0ZDIxMTJiMWQ1ZjRlZTg4YTJkYTE4NzkyODY4YTYzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81Njc2NTNhYWJhM2U0NmVkOGRiMDA4YjNhZjM3N2NiNSA9ICQoYDxkaXYgaWQ9Imh0bWxfNTY3NjUzYWFiYTNlNDZlZDhkYjAwOGIzYWYzNzdjYjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPtem17PXkNeg15Ig157XkNeZPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzQ0ZDIxMTJiMWQ1ZjRlZTg4YTJkYTE4NzkyODY4YTYzLnNldENvbnRlbnQoaHRtbF81Njc2NTNhYWJhM2U0NmVkOGRiMDA4YjNhZjM3N2NiNSk7CiAgICAgICAgCgogICAgICAgIG1hcmtlcl9iOTRlMGU5ZDE5NDg0ZmJjYTIwNjk3YzIyYjA3OTVhNS5iaW5kUG9wdXAocG9wdXBfNDRkMjExMmIxZDVmNGVlODhhMmRhMTg3OTI4NjhhNjMpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBtYXJrZXJfNTFlNzYyYjIyMmRmNDA0NmJkY2M4ZWVmMjJmNzUxZWMgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wODE0ODYsIDM0LjgwOTcwOF0sCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfN2M4MzY2ZjIxOTNiNGMzMTk0NzI5NmNkZDU5YTI1MjggPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzFjNTU3YmNiNWZlOTQ2YzY5ZDg2NDY0NmYzNjdlMDViID0gJChgPGRpdiBpZD0iaHRtbF8xYzU1N2JjYjVmZTk0NmM2OWQ4NjQ2NDZmMzY3ZTA1YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+157XnNeZINee15zXmTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83YzgzNjZmMjE5M2I0YzMxOTQ3Mjk2Y2RkNTlhMjUyOC5zZXRDb250ZW50KGh0bWxfMWM1NTdiY2I1ZmU5NDZjNjlkODY0NjQ2ZjM2N2UwNWIpOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfNTFlNzYyYjIyMmRmNDA0NmJkY2M4ZWVmMjJmNzUxZWMuYmluZFBvcHVwKHBvcHVwXzdjODM2NmYyMTkzYjRjMzE5NDcyOTZjZGQ1OWEyNTI4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyXzI5YjBlYTI2NTFiNzRmNjRhMmU4MWYyYTQwNGU3OWRlID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDY2ODExMzMxMzY2OTMsIDM0Ljc4MjEzMDM1OTEwMzkzXSwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF85ZDRhMGQxZjIxYzg0YjEyODMyNThhZTA4YzNkNTI1NSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOGE0M2ViZDNkNDlmNDc3ZmFmNDBjNzU1ZGJkMmVkNzYgPSAkKGA8ZGl2IGlkPSJodG1sXzhhNDNlYmQzZDQ5ZjQ3N2ZhZjQwYzc1NWRiZDJlZDc2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LYWIgS2VtPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzlkNGEwZDFmMjFjODRiMTI4MzI1OGFlMDhjM2Q1MjU1LnNldENvbnRlbnQoaHRtbF84YTQzZWJkM2Q0OWY0NzdmYWY0MGM3NTVkYmQyZWQ3Nik7CiAgICAgICAgCgogICAgICAgIG1hcmtlcl8yOWIwZWEyNjUxYjc0ZjY0YTJlODFmMmE0MDRlNzlkZS5iaW5kUG9wdXAocG9wdXBfOWQ0YTBkMWYyMWM4NGIxMjgzMjU4YWUwOGMzZDUyNTUpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBtYXJrZXJfOWQ1MjNiMjdjMGZkNDhlYWE1YzUxZDI0YjUzOTQxMWEgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wODQzNTMyNzEwMjI0MTUsIDM0Ljc3NDE2MTQ2NjEyNzE1NF0sCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYzRmNDg2MDRmOTBkNGNmMmI2ODlhYjA1ZjI4MGE0NzIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQzOGYxNGZiOWRiNDQyOTdhNjdlMjBkN2ZmNWE3ZTY5ID0gJChgPGRpdiBpZD0iaHRtbF80MzhmMTRmYjlkYjQ0Mjk3YTY3ZTIwZDdmZjVhN2U2OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WWFuIFN1c2hpIEJhcjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jNGY0ODYwNGY5MGQ0Y2YyYjY4OWFiMDVmMjgwYTQ3Mi5zZXRDb250ZW50KGh0bWxfNDM4ZjE0ZmI5ZGI0NDI5N2E2N2UyMGQ3ZmY1YTdlNjkpOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfOWQ1MjNiMjdjMGZkNDhlYWE1YzUxZDI0YjUzOTQxMWEuYmluZFBvcHVwKHBvcHVwX2M0ZjQ4NjA0ZjkwZDRjZjJiNjg5YWIwNWYyODBhNDcyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyXzY2MmIyMGFhMTZiNTQyOTRiOWViNGUwYzQ2NDY2ZjU1ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDc1NTg5ODQ1MzgxODYsIDM0Ljc4MTY3OTE2OTI0NzRdLAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNjFkMTM3YTk5NzM4NDUzMWE1YWZmMGFhMjFkMzM5MzYpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzFlNDg2ZTI0OWQ0OTRlYmM5NmNlMmE0NzZjZTQwMTNjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zYWUzY2ZlYTgzZjc0ZmVjYTE1NjdiOWUyYTM1NzE2MCA9ICQoYDxkaXYgaWQ9Imh0bWxfM2FlM2NmZWE4M2Y3NGZlY2ExNTY3YjllMmEzNTcxNjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNoaXNoaSAo16nXmdep15kpPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzFlNDg2ZTI0OWQ0OTRlYmM5NmNlMmE0NzZjZTQwMTNjLnNldENvbnRlbnQoaHRtbF8zYWUzY2ZlYTgzZjc0ZmVjYTE1NjdiOWUyYTM1NzE2MCk7CiAgICAgICAgCgogICAgICAgIG1hcmtlcl82NjJiMjBhYTE2YjU0Mjk0YjllYjRlMGM0NjQ2NmY1NS5iaW5kUG9wdXAocG9wdXBfMWU0ODZlMjQ5ZDQ5NGViYzk2Y2UyYTQ3NmNlNDAxM2MpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBtYXJrZXJfODE1NDA4NzE2MDc0NGRkN2I0MDY5ZGQ5MmUxNjE1MjEgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wNjMwNTE5MDQ2Mjk4NjYsIDM0Ljc3MDgzODE5NjEyNjg1XSwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF82MTVhODE0ZmQ5NTU0NTYzYmFlMTJiZWRiOGEwY2JkYyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNThlNDA2NDcyMWY2NDgyMDgwNjllZWIzNjZjNjIwYzggPSAkKGA8ZGl2IGlkPSJodG1sXzU4ZTQwNjQ3MjFmNjQ4MjA4MDY5ZWViMzY2YzYyMGM4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5WT05HICjXldeV16DXkik8L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNjE1YTgxNGZkOTU1NDU2M2JhZTEyYmVkYjhhMGNiZGMuc2V0Q29udGVudChodG1sXzU4ZTQwNjQ3MjFmNjQ4MjA4MDY5ZWViMzY2YzYyMGM4KTsKICAgICAgICAKCiAgICAgICAgbWFya2VyXzgxNTQwODcxNjA3NDRkZDdiNDA2OWRkOTJlMTYxNTIxLmJpbmRQb3B1cChwb3B1cF82MTVhODE0ZmQ5NTU0NTYzYmFlMTJiZWRiOGEwY2JkYykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIG1hcmtlcl8wNjY0OWRkMGFiODM0Y2EwOTRmZmRkOTk2ZTEzNzRhMyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjA4MzMwMTM2MjcyNSwgMzQuODA0MTgwMDYwNDMzODZdLAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNjFkMTM3YTk5NzM4NDUzMWE1YWZmMGFhMjFkMzM5MzYpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzkzOTliMmQwNWU4NjRlNzViOTQ5OTcxZGIyNWFiYzNmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iMjYwNDJjYmU4MDg0ZjUwYjY5YTFmM2FlN2M1OTk3MyA9ICQoYDxkaXYgaWQ9Imh0bWxfYjI2MDQyY2JlODA4NGY1MGI2OWExZjNhZTdjNTk5NzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJpdmVyIE5vb2RsZSBCYXI8L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfOTM5OWIyZDA1ZTg2NGU3NWI5NDk5NzFkYjI1YWJjM2Yuc2V0Q29udGVudChodG1sX2IyNjA0MmNiZTgwODRmNTBiNjlhMWYzYWU3YzU5OTczKTsKICAgICAgICAKCiAgICAgICAgbWFya2VyXzA2NjQ5ZGQwYWI4MzRjYTA5NGZmZGQ5OTZlMTM3NGEzLmJpbmRQb3B1cChwb3B1cF85Mzk5YjJkMDVlODY0ZTc1Yjk0OTk3MWRiMjVhYmMzZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIG1hcmtlcl9mMjc4NmE5NGU5YTc0YjBmYmMyMmM3ZGMxZjM3NTMwZiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjEwODAwNzYwMTE2MDA4LCAzNC44MzgyMjE4MDYxMTcyN10sCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNTdlMjM1N2FkM2Q5NDM2OWE3NDlkN2EyYzFkOGYzNTYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzMwYWU3MWYxMWUzMjRiYmNhMGNkZWFiZjg3ZTExNzg3ID0gJChgPGRpdiBpZD0iaHRtbF8zMGFlNzFmMTFlMzI0YmJjYTBjZGVhYmY4N2UxMTc4NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R2lyYWZmZSBHcmlsbCAo15LXs9eZ16jXoyDXkteo15nXnCk8L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfNTdlMjM1N2FkM2Q5NDM2OWE3NDlkN2EyYzFkOGYzNTYuc2V0Q29udGVudChodG1sXzMwYWU3MWYxMWUzMjRiYmNhMGNkZWFiZjg3ZTExNzg3KTsKICAgICAgICAKCiAgICAgICAgbWFya2VyX2YyNzg2YTk0ZTlhNzRiMGZiYzIyYzdkYzFmMzc1MzBmLmJpbmRQb3B1cChwb3B1cF81N2UyMzU3YWQzZDk0MzY5YTc0OWQ3YTJjMWQ4ZjM1NikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIG1hcmtlcl9lM2Q0NWMyMDVhYjI0Njc5YmFkNmZkOTllZDBhMTEwZCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjEzNDY5MjU0OTQ4MDc5NiwgMzQuODM4MjE3MDI2NjIwNDJdLAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNjFkMTM3YTk5NzM4NDUzMWE1YWZmMGFhMjFkMzM5MzYpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzIwYzQ3ZjYxZjUxMzQwYzI5MGNlMjA0MTQyZmNkYWNhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80NWQ0YmU1MDQyNmU0ZDYyOGFmYTY3NWFkMjI2OTIyYyA9ICQoYDxkaXYgaWQ9Imh0bWxfNDVkNGJlNTA0MjZlNGQ2MjhhZmE2NzVhZDIyNjkyMmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vb2NoICjXoNeV16YnKTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yMGM0N2Y2MWY1MTM0MGMyOTBjZTIwNDE0MmZjZGFjYS5zZXRDb250ZW50KGh0bWxfNDVkNGJlNTA0MjZlNGQ2MjhhZmE2NzVhZDIyNjkyMmMpOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfZTNkNDVjMjA1YWIyNDY3OWJhZDZmZDk5ZWQwYTExMGQuYmluZFBvcHVwKHBvcHVwXzIwYzQ3ZjYxZjUxMzQwYzI5MGNlMjA0MTQyZmNkYWNhKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyX2I3ZWYyZjNjZjc2YTQzOGU5MTE4NDc2ZjA1NjAzY2Y5ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDYzMjI3MTA2NzQ5NDUsIDM0Ljc3NDAxNjE5OTUxMDczXSwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9lODVkMDczYWZiYTc0MmQwYjg1ZmRlYTAwYWM5YzdlNSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfYmMzY2I1YTA5NjJlNDUyMjhkNDkxMTZhNDFmZDNkNTYgPSAkKGA8ZGl2IGlkPSJodG1sX2JjM2NiNWEwOTYyZTQ1MjI4ZDQ5MTE2YTQxZmQzZDU2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NZW4gVGVudGVuIFJhbWVuIEJhcjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lODVkMDczYWZiYTc0MmQwYjg1ZmRlYTAwYWM5YzdlNS5zZXRDb250ZW50KGh0bWxfYmMzY2I1YTA5NjJlNDUyMjhkNDkxMTZhNDFmZDNkNTYpOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfYjdlZjJmM2NmNzZhNDM4ZTkxMTg0NzZmMDU2MDNjZjkuYmluZFBvcHVwKHBvcHVwX2U4NWQwNzNhZmJhNzQyZDBiODVmZGVhMDBhYzljN2U1KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyXzA2YjI3OTAxNDc1MzQ1Yzg4YTBjY2U0MTY4OTk0NWZlID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDYxODMzNzYwNDAzODcsIDM0Ljc3MDA2MTAxMTAwMTk0XSwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jYTg4ZWQwM2QxNTE0ZjZmYjg1MDk3Y2MxMDYxNDBhMCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZjRlODQ2YzNjYzk4NGRiZTk5YmRjYjA3MzE0YTFhMGYgPSAkKGA8ZGl2IGlkPSJodG1sX2Y0ZTg0NmMzY2M5ODRkYmU5OWJkY2IwNzMxNGExYTBmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IZXJ6ZWwgMTYgKNeU16jXptecIDE2KTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jYTg4ZWQwM2QxNTE0ZjZmYjg1MDk3Y2MxMDYxNDBhMC5zZXRDb250ZW50KGh0bWxfZjRlODQ2YzNjYzk4NGRiZTk5YmRjYjA3MzE0YTFhMGYpOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfMDZiMjc5MDE0NzUzNDVjODhhMGNjZTQxNjg5OTQ1ZmUuYmluZFBvcHVwKHBvcHVwX2NhODhlZDAzZDE1MTRmNmZiODUwOTdjYzEwNjE0MGEwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyX2I3MzcxNWI4NTkyMTRmNGFiZmNjMzMwNDMxMDM1MmVmID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDkyMTkwNjQ0MTQ5NDU0LCAzNC43NzQ2NTAyMDkzMDU4Ml0sCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMzJkZTZjODk2OTdiNGUzMzkyYTNlYjFmOGQ0YjdhYzMgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzhhOTQwNzNmY2E4YjRkOTM5M2U4NDYzMTA1MGIzZDU4ID0gJChgPGRpdiBpZD0iaHRtbF84YTk0MDczZmNhOGI0ZDkzOTNlODQ2MzEwNTBiM2Q1OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TmluaSBIYWNoaTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zMmRlNmM4OTY5N2I0ZTMzOTJhM2ViMWY4ZDRiN2FjMy5zZXRDb250ZW50KGh0bWxfOGE5NDA3M2ZjYThiNGQ5MzkzZTg0NjMxMDUwYjNkNTgpOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfYjczNzE1Yjg1OTIxNGY0YWJmY2MzMzA0MzEwMzUyZWYuYmluZFBvcHVwKHBvcHVwXzMyZGU2Yzg5Njk3YjRlMzM5MmEzZWIxZjhkNGI3YWMzKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyX2M5NjAwZDhmNzdkNTQ4MjA5YmU3ZDBiMGQ2OTIxMjQ3ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDY3MzMxMDQ5MDA0MzksIDM0Ljg2Mjk0NTU2NTU0Njk0NF0sCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfODI2NDc2YzYyNDkwNDkzNjk2YjFiNjMyMDEwYmVlNTEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzUxYWFjNTJjZmYzMzRmNWNiMDgzNTdiYTllYzdlYTEzID0gJChgPGRpdiBpZD0iaHRtbF81MWFhYzUyY2ZmMzM0ZjVjYjA4MzU3YmE5ZWM3ZWExMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+S2kgU3U8L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfODI2NDc2YzYyNDkwNDkzNjk2YjFiNjMyMDEwYmVlNTEuc2V0Q29udGVudChodG1sXzUxYWFjNTJjZmYzMzRmNWNiMDgzNTdiYTllYzdlYTEzKTsKICAgICAgICAKCiAgICAgICAgbWFya2VyX2M5NjAwZDhmNzdkNTQ4MjA5YmU3ZDBiMGQ2OTIxMjQ3LmJpbmRQb3B1cChwb3B1cF84MjY0NzZjNjI0OTA0OTM2OTZiMWI2MzIwMTBiZWU1MSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIG1hcmtlcl9mMDdkNTllODRhY2Q0MWY0ODg0N2ZmNjUyOGY4MWNjYiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjE1OTI0MzQ5MzM3MTk0LCAzNC44MDg4NzI4ODMzNDA3MjZdLAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNjFkMTM3YTk5NzM4NDUzMWE1YWZmMGFhMjFkMzM5MzYpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzc1ZDI0YWIwOTY3YTQwMDU4Yjk5YTM5NzFkNmQ5ZjM0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xZjJkNjA3NmY0MDA0ZTEyOGVlOGVjMzhkMDVjYTNjMyA9ICQoYDxkaXYgaWQ9Imh0bWxfMWYyZDYwNzZmNDAwNGUxMjhlZThlYzM4ZDA1Y2EzYzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkt5b3RvPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzc1ZDI0YWIwOTY3YTQwMDU4Yjk5YTM5NzFkNmQ5ZjM0LnNldENvbnRlbnQoaHRtbF8xZjJkNjA3NmY0MDA0ZTEyOGVlOGVjMzhkMDVjYTNjMyk7CiAgICAgICAgCgogICAgICAgIG1hcmtlcl9mMDdkNTllODRhY2Q0MWY0ODg0N2ZmNjUyOGY4MWNjYi5iaW5kUG9wdXAocG9wdXBfNzVkMjRhYjA5NjdhNDAwNThiOTlhMzk3MWQ2ZDlmMzQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBtYXJrZXJfMzIzNjljOTQ3NjVjNGY1Yjg4OTVkODgxNjNmODU5OGMgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wNjkxODExMzg4ODc4MywgMzQuNzk0OTY3NTA2ODExNTk1XSwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF83MWQ2YzNkNWM5NGY0ZjBmODM4MjhiMDQ5NTMxNjBkMSA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNjJlYzIxNWI0Y2M5NDZiNWJkY2ZiMGQ2N2UzMTA1MzAgPSAkKGA8ZGl2IGlkPSJodG1sXzYyZWMyMTViNGNjOTQ2YjViZGNmYjBkNjdlMzEwNTMwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ub3BvbG9wb21wbzwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF83MWQ2YzNkNWM5NGY0ZjBmODM4MjhiMDQ5NTMxNjBkMS5zZXRDb250ZW50KGh0bWxfNjJlYzIxNWI0Y2M5NDZiNWJkY2ZiMGQ2N2UzMTA1MzApOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfMzIzNjljOTQ3NjVjNGY1Yjg4OTVkODgxNjNmODU5OGMuYmluZFBvcHVwKHBvcHVwXzcxZDZjM2Q1Yzk0ZjRmMGY4MzgyOGIwNDk1MzE2MGQxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyXzhlMWE3ZDg2MDVmZDRjNjc4MjRlZDg3MDY4OTQwNmE4ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDcwMzQ3ODcwNDAyNzIsIDM0Ljc4NjUwNzk3OTQ0MTldLAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNjFkMTM3YTk5NzM4NDUzMWE1YWZmMGFhMjFkMzM5MzYpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzEwMDJhMDg5NGYyYTQ3NzdiNmZkZjJlYzBhNDhkY2U4ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81Y2Q1YzY1NDFmY2Y0N2NkOWE2NzJiMjYwYmRlOTFiOSA9ICQoYDxkaXYgaWQ9Imh0bWxfNWNkNWM2NTQxZmNmNDdjZDlhNjcyYjI2MGJkZTkxYjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1pbm5hIFRvbWVpIE1hcmtldDwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8xMDAyYTA4OTRmMmE0Nzc3YjZmZGYyZWMwYTQ4ZGNlOC5zZXRDb250ZW50KGh0bWxfNWNkNWM2NTQxZmNmNDdjZDlhNjcyYjI2MGJkZTkxYjkpOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfOGUxYTdkODYwNWZkNGM2NzgyNGVkODcwNjg5NDA2YTguYmluZFBvcHVwKHBvcHVwXzEwMDJhMDg5NGYyYTQ3NzdiNmZkZjJlYzBhNDhkY2U4KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyXzEzNjhkNDk0ZTNhZjQ5ODc5MmJkNWNhYTZjMWUzNWQ0ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDY5NzIyNTk0NzM4MjY2LCAzNC43OTQxNDQ3NTY4MjQxMjRdLAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNjFkMTM3YTk5NzM4NDUzMWE1YWZmMGFhMjFkMzM5MzYpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzZlZTIxM2NlNmZiOTQ4NzViM2ZlNDNlMjBjYzQ2ODRkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80MGI4N2E2NTk5ODg0MDUyODI2NDA1MGI3NjA3NzQzMiA9ICQoYDxkaXYgaWQ9Imh0bWxfNDBiODdhNjU5OTg4NDA1MjgyNjQwNTBiNzYwNzc0MzIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlplcHJhPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzZlZTIxM2NlNmZiOTQ4NzViM2ZlNDNlMjBjYzQ2ODRkLnNldENvbnRlbnQoaHRtbF80MGI4N2E2NTk5ODg0MDUyODI2NDA1MGI3NjA3NzQzMik7CiAgICAgICAgCgogICAgICAgIG1hcmtlcl8xMzY4ZDQ5NGUzYWY0OTg3OTJiZDVjYWE2YzFlMzVkNC5iaW5kUG9wdXAocG9wdXBfNmVlMjEzY2U2ZmI5NDg3NWIzZmU0M2UyMGNjNDY4NGQpCiAgICAgICAgOwoKICAgICAgICAKICAgIAogICAgCiAgICAgICAgICAgIHZhciBtYXJrZXJfYWE3YzI4MmNlM2RjNGVjNDkxODFmMmEyMTJkNmJhZWMgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFszMi4wNzA1MTU4NDcxMzM5MywgMzQuNzg1MDY3ODI0OTA3NzNdLAogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfNjFkMTM3YTk5NzM4NDUzMWE1YWZmMGFhMjFkMzM5MzYpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzU3ZTg4Yzc1NGFhZDQ1MGViYjZiZGYyNmRiMDRmM2I2ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83OWFkYzg5ZTkyMzY0MjAzYmQ4YTA5YTJlNzc4YjE3YiA9ICQoYDxkaXYgaWQ9Imh0bWxfNzlhZGM4OWU5MjM2NDIwM2JkOGEwOWEyZTc3OGIxN2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk9uYW1pICjXkNeV16DXnteZKTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81N2U4OGM3NTRhYWQ0NTBlYmI2YmRmMjZkYjA0ZjNiNi5zZXRDb250ZW50KGh0bWxfNzlhZGM4OWU5MjM2NDIwM2JkOGEwOWEyZTc3OGIxN2IpOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfYWE3YzI4MmNlM2RjNGVjNDkxODFmMmEyMTJkNmJhZWMuYmluZFBvcHVwKHBvcHVwXzU3ZTg4Yzc1NGFhZDQ1MGViYjZiZGYyNmRiMDRmM2I2KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyX2U3ZWIwOWI3ZWJkMzRlYzk5NzY2Yjk3N2RmNGUxNWZiID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDc3NzI5MDc5OTU1MDM0LCAzNC43NjgyMzUxODk0MDAyN10sCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICApLmFkZFRvKG1hcF82MWQxMzdhOTk3Mzg0NTMxYTVhZmYwYWEyMWQzMzkzNik7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMzdkNDkyNTY3NmQzNDFkNmI3ZWZiMjkxOGViMGYzYjcgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzRmYzNhYjZhNWMzMTRjYTc4M2U2ZjQzMzk0YTQzMzIwID0gJChgPGRpdiBpZD0iaHRtbF80ZmMzYWI2YTVjMzE0Y2E3ODNlNmY0MzM5NGE0MzMyMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhhaSBIb3VzZSAo15HXmdeqINeq15DXmdec16DXk9eZKTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zN2Q0OTI1Njc2ZDM0MWQ2YjdlZmIyOTE4ZWIwZjNiNy5zZXRDb250ZW50KGh0bWxfNGZjM2FiNmE1YzMxNGNhNzgzZTZmNDMzOTRhNDMzMjApOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfZTdlYjA5YjdlYmQzNGVjOTk3NjZiOTc3ZGY0ZTE1ZmIuYmluZFBvcHVwKHBvcHVwXzM3ZDQ5MjU2NzZkMzQxZDZiN2VmYjI5MThlYjBmM2I3KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyX2VhY2YyZjVkYTU4YjRhMTg5MWI4MTMxMTNhZTUzMDRiID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDIzMzQ2MzYwNjI1NzEsIDM0LjczOTk2OTAwNjc4NjU0XSwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zMTVlZmViYWZlMDg0MDM1ODZmNzQ1NGUxMmFiMzNiNCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOWNkNjFhMDVjYzA4NGZiYWE2MDVkYWI0Y2FiNTkzZmQgPSAkKGA8ZGl2IGlkPSJodG1sXzljZDYxYTA1Y2MwODRmYmFhNjA1ZGFiNGNhYjU5M2ZkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UYW1wb3BvIC0gU3VzaGkgQmFyICjXldek15UgLSDXodeV16nXmSDXkdeoKTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zMTVlZmViYWZlMDg0MDM1ODZmNzQ1NGUxMmFiMzNiNC5zZXRDb250ZW50KGh0bWxfOWNkNjFhMDVjYzA4NGZiYWE2MDVkYWI0Y2FiNTkzZmQpOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfZWFjZjJmNWRhNThiNGExODkxYjgxMzExM2FlNTMwNGIuYmluZFBvcHVwKHBvcHVwXzMxNWVmZWJhZmUwODQwMzU4NmY3NDU0ZTEyYWIzM2I0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyXzdhNjkyMGFjNzJjZjRhMjA5MTdlMDU4Y2JhZjNjMjVmID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDYyMDk0NzIwMzQyNjksIDM0Ljc2OTE5NTYxNDQ0NDE5XSwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8zNjk3MDlhYjQ4MmM0YzAyOTZiNzZmNjhhNTYzN2Y4NCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOWM5ZjE0YjhhMGM1NDVkMzhiOTM3YzRhZjVkOWE3OWUgPSAkKGA8ZGl2IGlkPSJodG1sXzljOWYxNGI4YTBjNTQ1ZDM4YjkzN2M0YWY1ZDlhNzllIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IYW5vaSAo15TXkNeg15XXmSk8L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfMzY5NzA5YWI0ODJjNGMwMjk2Yjc2ZjY4YTU2MzdmODQuc2V0Q29udGVudChodG1sXzljOWYxNGI4YTBjNTQ1ZDM4YjkzN2M0YWY1ZDlhNzllKTsKICAgICAgICAKCiAgICAgICAgbWFya2VyXzdhNjkyMGFjNzJjZjRhMjA5MTdlMDU4Y2JhZjNjMjVmLmJpbmRQb3B1cChwb3B1cF8zNjk3MDlhYjQ4MmM0YzAyOTZiNzZmNjhhNTYzN2Y4NCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIG1hcmtlcl9jYmE0MTZhMjAyZDU0ZDc0OWY4MGZlYWIxZmE5ZTJhYyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjA2NDU1NjM0MDE0ODUsIDM0Ljc3MTcwOTYxMTc1MjE1XSwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF80MzlkMmMyZTJiZjc0ZDQ1YjgwMWU1NTM5M2MzMjc2MiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOTViYWFlZTBhMGQzNDU3Yzg4OGEwMjliN2E1NzEwM2UgPSAkKGA8ZGl2IGlkPSJodG1sXzk1YmFhZWUwYTBkMzQ1N2M4ODhhMDI5YjdhNTcxMDNlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGFpIEF0IFRoZSBBbGxleSAo16rXkNeZ15zXoNeT15nXqiDXkdeh157XmNeqINeh15nXoNeZKTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF80MzlkMmMyZTJiZjc0ZDQ1YjgwMWU1NTM5M2MzMjc2Mi5zZXRDb250ZW50KGh0bWxfOTViYWFlZTBhMGQzNDU3Yzg4OGEwMjliN2E1NzEwM2UpOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfY2JhNDE2YTIwMmQ1NGQ3NDlmODBmZWFiMWZhOWUyYWMuYmluZFBvcHVwKHBvcHVwXzQzOWQyYzJlMmJmNzRkNDViODAxZTU1MzkzYzMyNzYyKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyXzE5ZjhjYTA0MTliZTQ2NThiNTdjZDAyZWRlNmRkNjM2ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDYzODY4NzQ0NjIzNDcsIDM0Ljc3OTY3MzQxNTE3MDUzXSwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8yNWYwYzc4ZGM4YWQ0YzlmYTIxZTAyNGI0Njk2NTE2NCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfOGI4M2VkMTRiOWQ2NGEwMzg1YTRlNjQ4M2E0ZTNjOTcgPSAkKGA8ZGl2IGlkPSJodG1sXzhiODNlZDE0YjlkNjRhMDM4NWE0ZTY0ODNhNGUzYzk3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UYWl6dTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yNWYwYzc4ZGM4YWQ0YzlmYTIxZTAyNGI0Njk2NTE2NC5zZXRDb250ZW50KGh0bWxfOGI4M2VkMTRiOWQ2NGEwMzg1YTRlNjQ4M2E0ZTNjOTcpOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfMTlmOGNhMDQxOWJlNDY1OGI1N2NkMDJlZGU2ZGQ2MzYuYmluZFBvcHVwKHBvcHVwXzI1ZjBjNzhkYzhhZDRjOWZhMjFlMDI0YjQ2OTY1MTY0KQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyXzFkODNjNzAyZTA2ZjRmOGY5YTc0ZjJmN2U0YjEwMmE4ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbMzIuMDc1MjMzNjg5MDQ5NDYsIDM0Ljc3MTIxNzQwNzU2MjE5XSwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF84NDkxZmE1MGRiMGE0Y2E2YmMyMzcwZGUyZGNiZDU5NyA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNzhlMmQ4NjlmN2E2NDA5ZTgyZmUyZGUzNjMzMWNlNGMgPSAkKGA8ZGl2IGlkPSJodG1sXzc4ZTJkODY5ZjdhNjQwOWU4MmZlMmRlMzYzMzFjZTRjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Nb29uIERlbGlnaHQ8L2Rpdj5gKVswXTsKICAgICAgICAgICAgcG9wdXBfODQ5MWZhNTBkYjBhNGNhNmJjMjM3MGRlMmRjYmQ1OTcuc2V0Q29udGVudChodG1sXzc4ZTJkODY5ZjdhNjQwOWU4MmZlMmRlMzYzMzFjZTRjKTsKICAgICAgICAKCiAgICAgICAgbWFya2VyXzFkODNjNzAyZTA2ZjRmOGY5YTc0ZjJmN2U0YjEwMmE4LmJpbmRQb3B1cChwb3B1cF84NDkxZmE1MGRiMGE0Y2E2YmMyMzcwZGUyZGNiZDU5NykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIG1hcmtlcl9hMzUyYjlkYzM3ZTY0NWUwOWNlYzQ5MWQ0MGJjZWRlNSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjA5NTQ2MjA2NDMzNTE2NiwgMzQuNzc2MjQ1Nzg0OTczOTQ1XSwKICAgICAgICAgICAgICAgIHt9CiAgICAgICAgICAgICkuYWRkVG8obWFwXzYxZDEzN2E5OTczODQ1MzFhNWFmZjBhYTIxZDMzOTM2KTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF9jODU4NzEyYmI5ZTA0MDE3OGJjNWQ2NDJhNmMwODE3ZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfMzY1MzM3NWUzM2RkNDdmMWFmM2RjOWUwNjk0ZGVhMzIgPSAkKGA8ZGl2IGlkPSJodG1sXzM2NTMzNzVlMzNkZDQ3ZjFhZjNkYzllMDY5NGRlYTMyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij7Xnteh16LXk9eqINeg15DXnSAtIE5hbTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jODU4NzEyYmI5ZTA0MDE3OGJjNWQ2NDJhNmMwODE3ZC5zZXRDb250ZW50KGh0bWxfMzY1MzM3NWUzM2RkNDdmMWFmM2RjOWUwNjk0ZGVhMzIpOwogICAgICAgIAoKICAgICAgICBtYXJrZXJfYTM1MmI5ZGMzN2U2NDVlMDljZWM0OTFkNDBiY2VkZTUuYmluZFBvcHVwKHBvcHVwX2M4NTg3MTJiYjllMDQwMTc4YmM1ZDY0MmE2YzA4MTdkKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKPC9zY3JpcHQ+ onload="this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>


### Discussion

As can be seen from the above map, most Asian restaurants are located, perhaps quite expectedly so, in the heart of Central Tel-Aviv.
There is some overlap with the Southern districts, where we can also see some Asian restaurants.

What's interesting is that we barely see any Asian restaurants, if at all, in Jaffa, Eastern Tel-Aviv and Northern Tel-Aviv.
This begs the question: Would opening an Asian restaurant in one of these boroughs be a good investment, given the (very) minimal potential competition?

Let us consider each borough separately: 

- Jaffa: There are barely any Asian restaurants in most of Jaffa, with the only cluster being at the very edge of the borough, where it overlaps with both Southern and Central Tel-Aviv. This could be a great spot for an Asian restaurant, and in fact I'll admit it was my first thought - but seeing as how there are already many Asian restaurants within that area, I would shift my priorities somewhere else. The rest of Jaffa is empty for a reason - it is quite poor and undeveloped, and therefore a high-end Asian restaurant in that area would not make sense in the first place.

- Northern Tel-Aviv: This is a residential area and therefore the potential for customers is not very high. However, since my Asian restaurant is supposed to be high-end and aimed at affluent customers, I would probably prefer this borough to Jaffa. Another issue is that Northern Tel-Aviv is quite large and sparse, so my restaurant would not be as accessible.

- Eastern Tel-Aviv: All in all, especially having considered the two above boroughs, this borough makes most sense. We can see it has a nice overlap with both Southern and Central Tel-Aviv, however as oppposed to Jaffa and even Northern Tel-Aviv - there are absolutely no Asian restaurants in that area! This makes my Asian restaurant stand out, and it would be much more accessible given the said overlap. Ideally, I would open my Asian restaurant at the small intersection between the three areas (Where the green, red and orange balloons intersect).

### Conclusion

So, given the above discussion, it only makes sense that I open my high-end Asian restaurant at the intersection between Central, Eastern and Southern Tel-Aviv! It is easily accessible, it has good customer volume, there isn't much competition nearby and the Eastern & Central Tel-Aviv boroughs are affluent enough to attract high-paying customers.
